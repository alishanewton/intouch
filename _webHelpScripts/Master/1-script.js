function _$(n){if(document.querySelector)return document.querySelector(n);throw"document.querySelector is not supported";}function _$$(n){if(document.querySelectorAll)return document.querySelectorAll(n);throw"document.querySelectorAll is not supported";}function appendEventHandler(n,t,i,r){function wrapHandler(n){i(n||window.event)}var wrapHandler=i;if(typeof n.addEventListener=="function"){if(n.addEventListener(t,wrapHandler,!1),r)return function(){n.removeEventListener(t,wrapHandler,!1)}}else if(n.attachEvent&&(n.attachEvent("on"+t,wrapHandler),r))return function(){n.detachEvent("on"+t,wrapHandler)}}function stopBubbling(n){return n.stopPropagation&&n.stopPropagation(),n.preventDefault&&n.preventDefault(),n.cancelBubble=!0,n.returnValue=!1,!1}function appendTouchGestureHandler(n,t,i,r){function f(n){xDown=n.touches?n.touches[0].clientX:n.clientX;yDown=n.touches?n.touches[0].clientY:n.clientY;xUp=xDown;yUp=yDown;u=setInterval(o,15,i,r)}function e(n){xUp=n.touches?n.touches[0].clientX:n.clientX;yUp=n.touches?n.touches[0].clientY:n.clientY}function o(n,t){if(xDown&&yDown){t||(t=0);var i=xDown-xUp,r=yDown-yUp;Math.abs(i)>Math.abs(r)?Math.abs(i)>t&&(i>0?n({dir:"left"}):n({dir:"right"}),xDown=null,yDown=null):Math.abs(r)>t&&(r>0,xDown=null,yDown=null)}}function s(){u&&(clearInterval(u),u=null)}var u=null;switch(t){case"swipe":appendEventHandler(n,"touchstart",f);appendEventHandler(n,"touchmove",function(n){e(n)});appendEventHandler(document.documentElement,"touchend",s);break;default:throw"Unknown touch gesture type!";}}function getMouseBtn(n){return n.which==null?n.button<2?"left":n.button==4?"middle":"right":n.which<2?"left":n.which==2?"middle":"right"}function guid(){function n(n){var t=(Math.random().toString(16)+"000000000").substr(2,8);return n?"-"+t.substr(0,4)+"-"+t.substr(4,4):t}return n()+n(!0)+n(!0)+n()}function isIgnoreCaseEqual(n,t){return n==t||n!=null&&t!=null&&n.toLowerCase()==t.toLowerCase()}function escapeMarkup(n){if(n!=null){for(var t=0;t<markupEscapeCharsMapping.length;t++)n=n.replace(new RegExp(RegExp.escape(markupEscapeCharsMapping[t][0]),"g"),markupEscapeCharsMapping[t][1]);return n}return null}function unescapeMarkup(n){if(n!=null){for(var t=markupEscapeCharsMapping.length-1;t>=0;t--)n=n.replace(new RegExp(RegExp.escape(markupEscapeCharsMapping[t][1]),"g"),markupEscapeCharsMapping[t][0]);return n}return null}function getDirectoryName(n,t){return t||(t="\\"),n.substr(0,n.lastIndexOf(t))}function getFileName(n){n=n.replace(new RegExp("/","g"),"\\");var t=n.lastIndexOf("\\");return n.substr(t>-1?t+1:0)}function getFileExtension(n){var t=n.lastIndexOf(".");return n.substr(t>-1?t+1:0)}function endNotWithPathSeparator(n){return n.length>0&&arrayContains(["/","\\"],n[n.length-1])?n.slice(0,-1):n}function getCurUrlParams(){return function(n){var r,t,i;if(n=="")return{};for(r={},t=0;t<n.length;++t)(i=n[t].split("="),i.length==2)&&(r[i[0]]=decodeURIComponent(i[1].replace(/\+/g," ")));return r}(window.location.search.substr(1).split("&"))}function toEllipsisString(n,t){return n?n.length<=t?n:n.substring(0,t-3)+"...":""}function createCookie(n,t,i){var r,u;i?(r=new Date,r.setTime(r.getTime()+i*864e5),u="; expires="+r.toGMTString()):u="";document.cookie=n+"="+t+u+"; path=/"}function readCookie(n){for(var r=n+"=",u=document.cookie.split(";"),t,i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1,t.length);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return null}function eraseCookie(n){createCookie(n,"",-1)}function arrayContains(n,t,i){for(var r=0;r<n.length;r++)if(i&&i(n[r],t)||n[r]==t)return!0;return!1}function arrayPushAll(n,t){for(var i=0;i<t.length;i++)n.push(t[i])}function removeDynamicLinks(n,t,i){var u,r;for(i||(i=document),u=i.getElementsByTagName(n?"script":"link"),r=u.length-1;r>=0;r--)u[r].id&&u[r].id.indexOf(t)>-1&&u[r].parentNode.removeChild(u[r])}function addDynamicLinks(n,t,i,r,u){var o,e,f;for(r||(r=document),i||(i=""),o=r.getElementsByTagName("head")[0],e=0;e<n.length;e++)f=null,t?(f=document.createElement("script"),f.setAttribute("type","text/javascript"),f.setAttribute("src",n[e]),f.setAttribute("id",i+"js"+e)):(f=document.createElement("link"),f.setAttribute("rel","stylesheet"),f.setAttribute("type","text/css"),f.setAttribute("href",n[e]),f.setAttribute("id",i+"css"+e)),u&&appendEventHandler(f,"load",u),o.appendChild(f)}function getStyleByName(n,t){var r=[],u=t?t:document,i,f;for(n.indexOf(".")!=0&&(n="."+n),i=0;i<u.styleSheets.length;i++){u.styleSheets[i].cssRules?r=u.styleSheets[i].cssRules:u.styleSheets[i].rules&&(r=u.styleSheets[i].rules);for(f in r)if(r[f].selectorText&&r[f].selectorText.toLowerCase()==n.toLowerCase())return r[f]}return null}function getElementByCustomCriteria(n,t,i){for(var f=document.getElementsByTagName(n.toLowerCase()),e,u,o,r=0;r<i.length;r++)i[r]=new RegExp("^"+RegExp.escape(i[r]).replace(/\\\*/g,".*")+"$","i");for(r=0;r<f.length;r++){for(e=0,u=0;u<t.length;u++)if(o=f[r].getAttribute(t[u]),i[u].test(o))e++;else break;if(e==t.length)return f[r]}return null}function getElementByPartOfId(n,t){for(var r=document.getElementsByTagName(n.toLowerCase()),i=0;i<r.length;i++)if(r[i].id.indexOf(t)>-1)return r[i];return null}function getElementByClassName(n,t){for(var r=document.getElementsByTagName(n.toLowerCase()),i=0;i<r.length;i++)if(r[i].className==t)return r[i];return null}function getElementsByPartOfClassName(n,t,i){var r,o;n=n?n:"*";var e=i?i:document,u=e.getElementsByTagName(n.toLowerCase()),f=[];for(r=0;r<u.length;r++)u[r].className&&typeof u[r].className.indexOf!=typeof getElementsByPartOfClassName&&(o=""),u[r].className&&u[r].className.indexOf&&u[r].className.indexOf(t)>-1&&f.push(u[r]);return f}function getStyleValue(n,t){var i;if(n.currentStyle)i=n.currentStyle[t];else if(window.getComputedStyle)var r=n.ownerDocument,u=r.defaultView||r.parentWindow,i=u.getComputedStyle(n,null).getPropertyValue(t);return i}function getHtmlElement(n){var t=n;return typeof n=="string"&&(t=window[n],null==t&&(t=document.getElementById(n))),n.GetMainElement!=null&&(t=n.GetMainElement()),t}function getIsChildOf(n,t){while(n!=null&&!isIgnoreCaseEqual(n.tagName,"body")){if(n==t)return!0;n=n.parentNode}return!1}function getMatchingParent(n,t){while(n!=null&&!isIgnoreCaseEqual(n.tagName,"body")){if(t(n))return n;n=n.parentNode}return!1}function getClientWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"padding-left")),r=parseInt(getStyleValue(t,"padding-right"));return t.offsetWidth-(isNaN(parseInt(i))?0:i)-(isNaN(parseInt(r))?0:r)-getBordersWidth(n)}function getClientHeight(n){var t,i,r;return n?(t=getHtmlElement(n),t==document.documentElement)?document.documentElement.clientHeight:(i=parseInt(getStyleValue(t,"padding-top")),r=parseInt(getStyleValue(t,"padding-bottom")),t.offsetHeight-(isNaN(parseInt(i))?0:i)-(isNaN(parseInt(r))?0:r)-getBordersHeight(n)):0}function getBordersWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"border-left-width")),r=parseInt(getStyleValue(t,"border-right-width"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getBordersHeight(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"border-top-width")),r=parseInt(getStyleValue(t,"border-bottom-width"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getPaddingsHeight(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"padding-top")),r=parseInt(getStyleValue(t,"padding-bottom"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getMarginsHeight(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"margin-top")),r=parseInt(getStyleValue(t,"margin-bottom"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getMarginsWidth(n){if(!n)return 0;var t=getHtmlElement(n),i=parseInt(getStyleValue(t,"margin-left")),r=parseInt(getStyleValue(t,"margin-right"));return(isNaN(parseInt(i))?0:i)+(isNaN(parseInt(r))?0:r)}function getAdjustedElementHeight(n,t,i){return getClientHeight(n)-(t?t.offsetHeight:0)-(i&&!isNaN(parseInt(i))?i:0)}function getOffset(n){for(var t=0,i=0;n&&!isNaN(parseInt(n.offsetLeft))&&!isNaN(parseInt(n.offsetTop));)t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return{top:i,left:t}}function getElementAbsPos(n){for(var t=0,i=0;n&&!isNaN(parseInt(n.offsetLeft))&&!isNaN(parseInt(n.offsetTop));)t+=n.offsetLeft-n.scrollLeft,i+=n.offsetTop-n.scrollTop,n=n.offsetParent;return[t,i]}function getIsAbsPos(n){var t=getStyleValue(n,"position");return t&&(t=t.toLowerCase()),t=="relative"||t=="absolute"?t:!1}function getNearestAbsParent(n){return getIsAbsPos(n.parentNode)||n.parentNode.nodeName.toLowerCase()=="body"?n.parentNode:getNearestAbsParent(n.parentNode)}function getElementPos(n,t,i){var e=0,o=0,i=t?document.documentElement:i?i:getNearestAbsParent(n),s,h,c,u,r,f;if(n.ownerDocument!=i.ownerDocument){if(s=n.ownerDocument,h=s.defaultView||s.parentWindow,!h.frameElement)throw"Cannot calculate position: 'e' and 'pivotParent' are from different documents, but e's document is not a document of an iframe. This is not supported.";c=getElementPos(n,!1,s.documentElement);n=h.frameElement;e=c[0];o=c[1]}if(u=n,r=n,u.offsetParent)do e+=u.offsetLeft,o+=u.offsetTop,u=u.offsetParent;while(u&&u!=i);for(f=getIsAbsPos(r);(r=f?r.offsetParent:r.parentNode)&&r!=i;)f&&f!="relative"||(e-=r.scrollLeft,o-=r.scrollTop),f=getIsAbsPos(r);return[e,o]}function textareaAutoSize(n,t){var i=n.value.split(/\r|\n|\r\n|\n\r/);n.rows=t?Math.min(t,i.length):i.length}function getIsElementInViewport(n,t){t||(t=window);var i=n.getBoundingClientRect();return i.top>=0&&i.left>=0&&i.bottom<=(t.innerHeight||t.document.documentElement.clientHeight)&&i.right<=(t.innerWidth||t.document.documentElement.clientWidth)}function sendRequest(n,t,i,r,u,f){function o(n,t){var i=new XMLHttpRequest;return"withCredentials"in i?i.open(n,t,!0):typeof XDomainRequest!="undefined"?(i=new XDomainRequest,i.open(n,t)):i=null,i}var e=null;if(f){if(e=o(n,t),!e)throw new Error("CORS requests are not supported by your web browser.");}else e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");return u&&(e.onreadystatechange=function(){this.readyState==4&&u(this)}),e.open(n,t,r?!0:!1),i&&typeof i=="object"&&(e.setRequestHeader("Content-type","application/json"),i=JSON.stringify(i)),e.send(i),e}function mergeOptions(n,t){function i(n,t,r){var f={},u;for(u in n)n.hasOwnProperty(u)&&(f[u]=t&&("object"==typeof n[u]&&n[u]!=null||"object"==typeof t[u]&&t[u]!=null)?i(n[u],t[u],u=="cssClasses"):r?n[u]+(t&&t.hasOwnProperty(u)&&t[u]?" "+t[u]:""):(t&&t.hasOwnProperty(u)&&t[u]!=null?t:n)[u]);return f}return i(n,t,!1)}function copyToClipboard(n,t){var f="_hiddenCopyText_",i,r,u;i=document.getElementById(f);i||(i=document.createElement("textarea"),i.style.position="absolute",i.style.left="-9999px",i.style.top="0",i.id=f,document.body.appendChild(i));i.textContent=n;r=document.activeElement;i.focus();i.setSelectionRange(0,i.value.length);try{u=document.execCommand("copy")}catch(e){u=!1}return t&&r&&typeof r.focus=="function"&&r.focus(),i.textContent="",u}function CHTree(n,t,i,r){var e,f,u,o;t.isUseFontAwesomeIcons&&(t.templates||(t.templates={}),t.templates.nodeContent||(t.templates.nodeContent="<i class='fa fa-lg fa-fw {{_faIconCssClass}}'><\/i>&nbsp;{{T}}"),t.cssClasses||(t.cssClasses={}),t.cssClasses.nodeContent||(t.cssClasses.nodeContent="CHTree_nodeContentFaIcons"));r&&(this.onNodeInit=r);this.opts=mergeOptions(CHTree.defaults,t);this.containerId=n;this.initHiSelection();this.opts.delayLoadServiceUrl&&this.initHiLoadedNodes();this.opts.multiSelectMode&&i.length>0&&(this.selAllId=n+"_selAll",i.unshift({t:this.opts.text.selectAllNode,id:this.selAllId,s:0,c:[],imgs:{},vals:{}}));this.nodes={};this.nodes[""]={id:"",c:i};e={isAllSelected:!0};this.runOnNodes([this.nodes[""]],function(n){this.initNode(n,e)},!0);this.selAllId&&(this.nodes[this.selAllId].s=e.isAllSelected?2:0);f=document.getElementById(this.containerId);f.className=this.opts.cssClasses.tree;this.opts.isExpandCollapseEffects&&(f.className+=" CHTree_withExpandCollapseEffects");u=this;appendEventHandler(f,"click",function(n){u.onClick(n,u)});appendEventHandler(f,"dblclick",function(n){u.onDblClick(n,u)});switch(this.opts.mobileViewMode){case"always":this.setIsMobileView(!0);break;case"never":this.setIsMobileView(!1);break;default:o=function(){var n=document.documentElement.clientWidth;try{n=window.top.document.documentElement.clientWidth}catch(t){}u.setIsMobileView(n<u.opts.mobileViewWidthThreshold,!0)};this.removeResizeHandler=appendEventHandler(window,"resize",o,!0);o()}this.opts.focusedNodeId==""?i!=null&&(i.length>0&&!this.selAllId?this.setFocusedNode(i[0].id):i.length>1&&this.selAllId&&this.setFocusedNode(i[1].id)):this.nodes[this.opts.focusedNodeId]&&this.setFocusedNode(this.opts.focusedNodeId);this.opts.isReadOnly&&this.setReadOnly(!0)}function PopupWindow(n){function r(n){var t=document.getElementsByTagName("body")[0],i;if(n.wnd.parentNode!=t){if(n.wnd.id)for(i=0;i<t.children.length;i++)if(t.children[i].id==n.wnd.id){t.removeChild(t.children[i]);break}t.appendChild(n.wnd)}}function u(n){function r(n,t,i){return getMatchingParent(i,function(i){return i==n||i==t})}for(var i=n.showAction.split("|"),t=0;t<i.length;t++)switch(i[t]){case"init":n.show();break;case"mouseover":case"click":appendEventHandler(n.target,i[t],function(){n.show.call(n)})}switch(n.hideAction){case"mouseout":function u(t){typeof t!="undefined"&&r(n.wnd,n.target,t.relatedTarget||t.toElement)||n.hide.call(n,null)}appendEventHandler(n.wnd,"mouseout",u);n.target&&appendEventHandler(n.target,n.hideAction,u);break;case"click":appendEventHandler(document.documentElement,"click",function(){if(n.wnd&&!n.isDontHidePopupOnBodyClick){if(typeof event!="undefined"&&r(n.wnd,null,event.target||event.srcElement))return;n.hide.call(n,null)}})}n.btnClose&&appendEventHandler(n.btnClose,"click",function(){n.hide.call(n,n.btnClose)})}function f(n){if(n.contentUrl&&n.iframe)if(appendEventHandler(window,"message",function(t){var i=null;try{i=JSON.parse(t.data)}catch(r){return}n.isAutoAdjustHeightForIframe&&i.clhFrameName&&i.clhFrameName==n.iframe.id&&(n.iframe&&(i.height+=n.wnd.scrollHeight-n.iframe.offsetHeight),n.iframeContentHeight=i.height,n.show())}),appendEventHandler(n.iframe,"load",function(){n.hidePnlLoading()}),n.isDelayLoadIframeContent){var t=document.createElement("div");t.style.position="absolute";t.style.top="0";t.style.left="0";t.style.right="0";t.style.overflow="hidden";t.style.width="100%";t.style.textAlign="center";t.style.zIndex=n.zIndex+1;t.innerHTML=n.iframeLoadingText;n.wnd.appendChild(t);n.pnlLoading=t}else n.iframe.src=n.contentUrl}function e(n){var i,t,r;if(n.wnd.style.display="none",n.isRenderBeak&&!n.beak&&(n.beak=document.createElement("div"),n.beak.style.overflow="hidden",n.beak.style.display="none",i=n.getBeakSize(),n.beak.style.width=i[0]+"px",n.beak.style.height=i[1]+"px",n.wnd.parentNode.insertBefore(n.beak,n.wnd.nextSibling),t=document.createElement("div"),t.style.position="absolute",t.style.borderWidth="1px",t.style.borderStyle="solid",t.style.borderColor="#cdcdcd",t.style.width=-2+n.beakSize*Math.sqrt(2)+"px",t.style.height=-2+n.beakSize*Math.sqrt(2)+"px",t.style.backgroundColor="white",t.style.transformOrigin=t.style.webkitTransformOrigin="top left",t.className=n.beakCssClass?n.beakCssClass:"",n.beak.appendChild(t)),n.isEffectAppear&&(n.wnd.style.opacity="0",n.beak&&(n.beak.style.opacity=n.wnd.style.opacity)),n.isEffectExpand&&(n.wnd.style.transform=n.wnd.style.webkitTransform=n.getTranslateValue(),n.beak&&(n.beak.style.transform=n.beak.style.webkitTransform=n.wnd.style.transform)),n.wnd.style.overflow="hidden",n.wnd.style.boxShadow=n.isAddShadow?"rgba(0,0,0,.7) 0 2px 25px":"",isIgnoreCaseEqual(n.position,"default")||(n.wnd.style.position="absolute",n.beak&&(n.beak.style.position="absolute")),n.wnd.style.zIndex=n.zIndex+(n.isModal?0:-1),n.beak&&(n.beak.style.zIndex=n.wnd.style.zIndex),n.isAllowDragging){r=n.dragTrigger?n.dragTrigger:n.wnd;r.style.cursor="move";function u(){n.isDragging=!1;n.pnlPopupOverlay.parentNode&&n.wnd.removeChild(n.pnlPopupOverlay);n.pnlBodyOverlay.parentNode&&document.documentElement.removeChild(n.pnlBodyOverlay)}function f(t){var i,r,u;n.isDragging&&(i=0,r=0,n.wnd.offsetParent&&(u=getElementPos(n.wnd.offsetParent,!0),i=u[0],r=u[1]),n.wnd.style.left=t.pageX-n.dragPoint[0]-i+"px",n.wnd.style.top=t.pageY-n.dragPoint[1]-r+"px")}function e(t){var r=t.srcElement||t.target,i;if(r&&r==n.btnClose)return!0;n.isDragging=!0;i=getElementPos(n.wnd,!0);n.dragPoint=[t.pageX-i[0],t.pageY-i[1]];n.pnlPopupOverlay=document.createElement("div");n.pnlPopupOverlay.style.position="absolute";n.pnlPopupOverlay.style.top=0;n.pnlPopupOverlay.style.bottom=0;n.pnlPopupOverlay.style.left=0;n.pnlPopupOverlay.style.right=0;n.pnlPopupOverlay.style.cursor="move";n.wnd.appendChild(n.pnlPopupOverlay);appendEventHandler(n.pnlPopupOverlay,"mousemove",f);appendEventHandler(n.pnlPopupOverlay,"mouseup",u);n.pnlBodyOverlay=document.createElement("div");n.pnlBodyOverlay.style.position="absolute";n.pnlBodyOverlay.style.top=0;n.pnlBodyOverlay.style.bottom=0;n.pnlBodyOverlay.style.left=0;n.pnlBodyOverlay.style.right=0;n.pnlBodyOverlay.style.cursor="move";document.documentElement.appendChild(n.pnlBodyOverlay);appendEventHandler(n.pnlBodyOverlay,"mousemove",f);appendEventHandler(n.pnlBodyOverlay,"mouseup",u)}appendEventHandler(r,"mousedown",e)}}function o(n){appendEventHandler(window,"resize",function(){n.adjustSize()})}var i,t;PopupWindow.prototype.getIsHorizontalAlign=function(){switch(this.position.toLowerCase()){case"left":case"right":return!0;default:return!1}};PopupWindow.prototype.getBeakSize=function(){return[this.beak?this.beakSize*(this.getIsHorizontalAlign()?1:2):0,this.beak?this.beakSize*(this.getIsHorizontalAlign()?2:1):0]};PopupWindow.prototype.getTranslateValue=function(){return this.fixedPosition&&typeof this.fixedPosition.top!="undefined"||!this.fixedPosition&&(isIgnoreCaseEqual(this.position,"bottom")||isIgnoreCaseEqual(this.position,"center"))?"translateY(-50px)":this.fixedPosition&&typeof this.fixedPosition.bottom!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"top")?"translateY(50px)":this.fixedPosition&&typeof this.fixedPosition.left!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"right")?"translateX(50px)":this.fixedPosition&&typeof this.fixedPosition.right!="undefined"||!this.fixedPosition&&isIgnoreCaseEqual(this.position,"left")?"translateX(-50px)":"translateY(-50px)"};var s=["mouseover","click","init","none"];if(this.onShowing=n.onShowing,this.onHiding=n.onHiding,this.wnd=n.wnd?n.wnd:document.getElementById(n.wndId),!this.wnd)return window.console&&console.warn("Failed to initialize PopupWindow: window element not found. Expected element ID is: '"+n.wndId+"'"),null;if(this.target=n.target?n.target:null,!this.target&&n.targetId&&(this.target=document.getElementById(n.targetId)),this.targetCoordinatesEvalType=typeof n.targetCoordinatesEvalType!="undefined"?n.targetCoordinatesEvalType:PopupWindow.defaults.targetCoordinatesEvalType,this.position=!n.position||!arrayContains(["left","right","top","bottom","center","default"],n.position.toLowerCase())?"center":n.position.toLowerCase(),n.showAction){for(i=n.showAction.toLowerCase().split("|"),t=0;t<i.length;t++)if(!arrayContains(s,i[t])){this.showAction=PopupWindow.defaults.showAction;break}this.showAction||(this.showAction=n.showAction)}else this.showAction=PopupWindow.defaults.showAction;this.hideAction=!n.hideAction||!arrayContains(["mouseout","click","none"],n.hideAction.toLowerCase().split("|"))?PopupWindow.defaults.hideAction:n.hideAction.toLowerCase();this.isAllowDragging=typeof n.isAllowDragging!="undefined"?n.isAllowDragging&&this.hideAction=="none":PopupWindow.defaults.isAllowDragging;this.dragTrigger=n.dragTrigger;!this.dragTrigger&&n.dragTriggerId&&(this.dragTrigger=document.getElementById(n.dragTriggerId));this.beginWindowMeasurement();this.width=n.width&&!isNaN(n.width)?n.width:this.wnd.offsetWidth>0?getClientWidth(this.wnd):PopupWindow.defaults.width;this.height=n.height&&!isNaN(n.height)?n.height:this.wnd.offsetHeight>0?getClientHeight(this.wnd):PopupWindow.defaults.height;this.endWindowMeasurement();this.relOffset=n.relOffset?n.relOffset:PopupWindow.defaults.relOffset;this.fixedPosition=n.fixedPosition?n.fixedPosition:PopupWindow.defaults.fixedPosition;this.btnClose=n.btnClose;!this.btnClose&&n.btnCloseId&&(this.btnClose=document.getElementById(n.btnCloseId));this.isAddShadow=typeof n.isAddShadow=="undefined"?PopupWindow.defaults.isAddShadow:n.isAddShadow;this.isEffectExpand=typeof n.isEffectExpand=="undefined"?PopupWindow.defaults.isEffectExpand:n.isEffectExpand;this.isEffectAppear=typeof n.isEffectAppear=="undefined"?PopupWindow.defaults.isEffectAppear:n.isEffectAppear;this.effectsTimeout=typeof n.effectsTimeout=="undefined"?PopupWindow.defaults.effectsTimeout:n.effectsTimeout;this.isModal=typeof n.isModal=="undefined"?PopupWindow.defaults.isModal:n.isModal;this.iframe=n.iframe;!this.iframe&&n.iframeId&&(this.iframe=document.getElementById(n.iframeId));this.iframeLoadingText=n.iframeLoadingText?n.iframeLoadingText:PopupWindow.defaults.iframeLoadingText;this.contentUrl=n.contentUrl?n.contentUrl:PopupWindow.defaults.contentUrl;this.isDelayLoadIframeContent=typeof n.isDelayLoadIframeContent!="undefined"?n.isDelayLoadIframeContent:!1;this.isAutoAdjustHeightForIframe=!n.height;this.zIndex=5e4;this.isEnableResponsiveResize=typeof n.isEnableResponsiveResize=="undefined"?PopupWindow.defaults.isEnableResponsiveResize:n.isEnableResponsiveResize;this.responsiveResizeMaxWidth=n.responsiveResizeMaxWidth&&!isNaN(n.responsiveResizeMaxWidth)?n.responsiveResizeMaxWidth:this.width;this.responsiveResizeMaxHeight=n.responsiveResizeMaxHeight&&!isNaN(n.responsiveResizeMaxWidth)?n.responsiveResizeMaxHeight:this.height;this.responsiveResizedEl=n.responsiveResizedElId?document.getElementById(n.responsiveResizedElId):n.responsiveResizedEl;this.responsiveResizedElHeight=n.responsiveResizedElHeight&&!isNaN(n.responsiveResizedElHeight)?n.responsiveResizedElHeight:0;this.isMoveToBodyChildLevel=typeof n.isMoveToBodyChildLevel=="undefined"?PopupWindow.defaults.isMoveToBodyChildLevel:n.isMoveToBodyChildLevel;this.beakSize=n.beakSize?n.beakSize:PopupWindow.defaults.beakSize;this.isRenderBeak=typeof n.isRenderBeak=="undefined"?PopupWindow.defaults.isRenderBeak:n.isRenderBeak;this.isRenderBeak&&!arrayContains(["left","right","top","bottom"],this.position)&&(this.isRenderBeak=!1);e(this);f(this);this.isMoveToBodyChildLevel&&r(this);u(this);this.isEnableResponsiveResize&&o(this)}function CHMenu(n,t,i){this.noUrlAddress="javascript:void(0)";this.isInitialized=!1;t&&t.isUseFontAwesomeIcons&&(t.templates||(t.templates={}),t.templates.itemContent||(t.templates.itemContent="<a href='{{_url}}' target='{{_target}}' title='{{_toolTip}}'><i class='fa fa-lg {{_faIconCssClass}}'><\/i> {{T}}<\/a>"));this.opts=mergeOptions(CHMenu.defaults,t);this.items={};this.items[""]={id:"",c:i};this.initItems(i);this.containerId=n;this.selectedItemId=this.opts.selectedItemId;var u=document.getElementById(this.containerId),r=this;appendEventHandler(document.documentElement,"click",function(){r.isDontHidePopupOnBodyClick||r.hidePopup()});appendEventHandler(window,"resize",function(){setTimeout(function(){r.onWindowResize()},0)});appendEventHandler(window,"load",function(){setTimeout(function(){r.onWindowResize()},0)});document.readyState=="complete"&&r.onWindowResize()}function HashHandler(n,t,i){this.syntaxType=n;this.syntaxInfo=t;this.oldHash=window.location.hash;var r=this;this.timerId=setInterval(function(){r.handleHash()},300);typeof hashHandlerInstanceOnThisPage!="undefined"&&hashHandlerInstanceOnThisPage.stopListening();hashHandlerInstanceOnThisPage=this;i&&(this.oldHash=null,appendEventHandler(window,"load",function(){r.handleHash()}))}function CHOffCanvasPanel(n,t,i,r){function e(n,t){appendEventHandler(n,"click",t)}var u=this,f;if(e(document.getElementById(t),function(n){return u.open(),stopBubbling(n)}),this.pnlContainerName=n,this.btnMenuName=t,i instanceof Array)for(f=0;f<i.length;f++)e(document.getElementById(i[f]),function(){u.close()});else e(document.getElementById(i),function(){u.close()});appendTouchGestureHandler(document.getElementById(r),"swipe",function(n){n.dir=="left"&&u.close()},30)}function adjustBaseMasterContainerSize(){var n=document.getElementById("pnlContentContainer"),r=document.getElementById("pnlMainMenuContainer"),t,i;n.style.height=document.documentElement.clientHeight-r.offsetHeight+"px";t=document.getElementById("pnlTopicHeader");i=document.getElementById("pnlFrameContainer");i.style.height=n.offsetHeight-t.offsetHeight+"px"}function getContentWindow(){var n=document.getElementById("frameContent");return n!=null?n.contentWindow:null}function webHelpPrint(){var n=getContentWindow();n.focus();n.print()}function webHelpInit(){function u(n){if(window.addthis){var i=location.href,t={url:i,title:document.title};addthis.toolbox("#pnlSocial",{},t);addthis.counter(".addthis_counter",{},t)}else n&&addDynamicLinks([n],!0,null,null,u)}var t,f,n,i,r;webHelpInitToc();appendEventHandler(window,"message",function(n){var t,i;if(n.data){t=null;try{t=JSON.parse(n.data)}catch(r){return}t.title&&(document.title=t.title,i=document.getElementById("pnlTitle"),i&&(i.innerHTML=i.title=escapeMarkup(t.titleText?t.titleText:t.title)));t.ch_nav&&window.hashHandler.setHash(t.ch_nav.replace(/^#?[^/]+\//,""))}});window.location.hash||(t=window.tocTree.getFocusedNodeId(),t&&(f={anchor:null,externalId:t},window.hashHandler.setHashObj(f)));n=window.location.protocol=="file:";addThisScriptUrl&&!n&&u(addThisScriptUrl);i=document.getElementById("pnlSocial");n&&i&&(i.style.display="none");r=document.getElementById("lnkPrint");n&&r&&(r.style.display="none");appendEventHandler(window,"resize",adjustBaseMasterContainerSize);adjustBaseMasterContainerSize();appendEventHandler(document.getElementById("lnkPrint"),"click",webHelpPrint);appendEventHandler(document.getElementById("edtSearch"),"keydown",webHelpMasterPageSearchBoxKeydown);window.webHelpOffCanvasPanel=new CHOffCanvasPanel("pnlContainer","lnkMobileMenu","pnlOffCanvasOverlay","pnlOffCanvasNav")}function webHelpTocNodeClick(n,t){n.getIsMobileView()?t.node.vals.f&&n.expandNode(t.node.id):t.node.isExpanded?n.collapseNode(t.node.id):n.expandNode(t.node.id)}function webHelpOpenTopic(n,t){var r=getContentWindow(),i;r&&window.tocTree&&(window.tocTree.setFocusedNode(n,!0,!0),i=webHelpTopicUrlTemplate.replace(/{{externalId}}/g,n),t&&(i+="#"+t),r.location.replace(i))}function webHelpMasterPageHashChanged(n,t){webHelpOpenTopic(t.newObj.externalId,t.newObj.anchor)}function webHelpNavMenuItemClick(n,t){webHelpOpenTab(t.item.id)}function webHelpMobileMenuItemClick(n,t){var i=document.getElementById("pnlArticlesNav");switch(t.item.id){case"menuItemMenu":i&&(i.style.display="none");document.getElementById("pnlMainMenu").style.display="";break;case"tabContents":case"tabIndex":case"tabSearch":i&&(i.style.display="");document.getElementById("pnlMainMenu").style.display="none";webHelpOpenTab(t.item.id)}}function webHelpMasterPageSearchBoxKeydown(n){var t=n.charCode?n.charCode:n.keyCode;t==13&&(window.navMenu.setSelectedItem("tabSearch"),webHelpOpenTab("tabSearch",document.getElementById("edtSearch").value),stopBubbling(n))}function webHelpMasterPageMainMenuViewSwitched(n,t){var f=document.getElementById("pnlOffCanvasContent"),s=document.getElementById("pnlMainMenuContainer"),r=document.getElementById("pnlMainMenu"),i,e,o,u;t.isMobileView&&r.parentNode!=f?f.appendChild(r):t.isMobileView||r.parentNode==s||s.appendChild(r);i=document.getElementById("pnlArticlesNav");e=document.getElementById("pnlContentContainer");t.isMobileView&&i.parentNode!=f?f.appendChild(i):t.isMobileView||i.parentNode==e||e.insertBefore(i,e.children[0]);i.style.display="";adjustBaseMasterContainerSize();webHelpOpenTab("tabContents");mobileMenu.setSelectedItem("tabContents");navMenu.setSelectedItem("tabContents");r.style.display=i&&t.isMobileView?"none":"";!t.isMobileView&&window.webHelpOffCanvasPanel&&window.webHelpOffCanvasPanel.close();document.getElementById("lnkMobileMenu").style.display=t.isMobileView?"":"none";o=" WebHelp_containerMobile";u=document.getElementById("pnlContainer");t.isMobileView&&u.className.indexOf(o)<0?u.className+=o:t.isMobileView||(u.className=u.className.replace(new RegExp(o,"g"),""))}function webHelpOpenTab(n,t){var u=document.getElementById("pnlTocContainer"),i=document.getElementById("pnlIndex"),r=document.getElementById("pnlSearch");u.style.display=n=="tabContents"?"":"none";i.style.display=n=="tabIndex"?"":"none";r.style.display=n=="tabSearch"?"":"none";switch(n){case"tabIndex":i.children[0].src||(i.children[0].src="keywords.html");break;case"tabSearch":r.children[0].src="search.html"+(t?"?q="+encodeURIComponent(t):"")}}var xDown=null,yDown=null,xUp=null,yUp=null,isIe=navigator.appVersion.toLowerCase().indexOf("msie")>-1||Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject,isIos=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,markupEscapeCharsMapping;RegExp.escape=function(n){return n.replace(/[[\]{}()*+?\.,\\^$|#]/g,"\\$&")};String.prototype.charCount=function(n){var t=this.match(new RegExp(RegExp.escape(n),"g"));return t==null?0:t.length};markupEscapeCharsMapping=[["&","&amp;"],["<","&lt;"],[">","&gt;"],['"',"&quot;"]],function(){function n(){}window.CssHandler||(n.prototype.extraClassMask="(\\s+|^){0}(\\s+|$)",n.prototype.addElClass=function(n,t){n.className=this.addClass(n.className,t)},n.prototype.addClass=function(n,t){return n||(n=""),new RegExp(this.extraClassMask.replace("{0}",RegExp.escape(t))).test(n)||(n+=(n?" ":"")+t),n},n.prototype.removeClass=function(n,t){return n||(n=""),n.replace(new RegExp(this.extraClassMask.replace("{0}",RegExp.escape(t)),"g")," ").replace(" {2,}"," ").trim()},n.prototype.removeElClass=function(n,t){n.className=this.removeClass(n.className,t);n.className||n.removeAttribute("class")},window.CssHandler=new n)}();CHTree.defaults={expandLevels:0,isReadOnly:!1,isHighlightFocusedNode:!0,isExpandCollapseEffects:!0,isUseFontAwesomeIcons:!1,isEscapeNodeText:!0,nodeBtnPosition:"left",multiSelectMode:"",focusedNodeId:"",mobileViewWidthThreshold:979,mobileViewMode:"",delayLoadServiceUrl:null,templates:{nodeContent:"{{T}}",backArrow:"<i class='fa fa-angle-left'><\/i>",expandCollapseButton:"<i class='fa fa-angle-right'><\/i>"},cssClasses:{tree:"CHTree_tree",mobileView:"CHTree_mobileView",desktopView:"CHTree_desktopView",treeDisabled:"CHTree_disabled",node:"CHTree_node",nodeBack:"CHTree_nodeBack",nodeDelayLoadTrigger:"CHTree_nodeDelayLoadTrigger",nodeDelayLoadLoading:"CHTree_nodeDelayLoadLoading",nodeBtn:"CHTree_btn",nodeSelect:"CHTree_select",nodeContent:"CHTree_nodeContent",nodeContentDisabled:"CHTree_nodeContentDisabled",btnExpand:"CHTree_nodeBtnExpand",btnCollapse:"CHTree_nodeBtnCollapse",nodeChildren:"CHTree_nodeChildren",nodeChildrenExpanded:"CHTree_nodeChildrenExpanded",nodeChildrenCollapsed:"CHTree_nodeChildrenCollapsed",nodeFocused:"CHTree_nodeFocused",nodeContentExpanded:"CHTree_nodeContentExpanded",nodeContentCollapsed:"CHTree_nodeContentCollapsed",nodeContentWithoutChildren:"CHTree_nodeContentWithoutChildren"},text:{selectAllNode:"(Select All)",delayLoadTriggerNode:"Click to load all {{CHILD_COUNT}} child items...",delayLoadLoadingNode:"Loading...",back:"back"}};CHTree.prototype.initHiSelection=function(){var t=document.getElementById(this.containerId),n;this.hiSelectionId=this.containerId+"_hiSelection";n=document.createElement("input");n.type="hidden";n.name=n.id=this.hiSelectionId;n.value=this.getSelectedNodeIds().join("\t");t.appendChild(n)};CHTree.prototype.initHiLoadedNodes=function(){var t=document.getElementById(this.containerId),n;this.hiLoadedNodesId=this.containerId+"_hiLoadedNodes";n=document.createElement("input");n.type="hidden";n.name=n.id=this.hiLoadedNodesId;n.value=this.getAllNodeIds().join("\t");t.appendChild(n)};CHTree.prototype.setIsMobileView=function(n){var r=this.isMobileView!=n,t,i;if(this.isMobileView=n,r){for(t=document.getElementById(this.containerId),n?(t.className=t.className.replace(new RegExp(" "+this.opts.cssClasses.desktopView+"\\b","g"),""),t.className+=" "+this.opts.cssClasses.mobileView):(t.className=t.className.replace(new RegExp(" "+this.opts.cssClasses.mobileView+"\\b","g"),""),t.className+=" "+this.opts.cssClasses.desktopView),t=document.getElementById(this.containerId);t.firstChild;)t.removeChild(t.firstChild);for(i in this.childrenPanels)this.nodes[i].isExpanded=!1;this.childrenPanels=null;this.nodePanels=null;this.initHiSelection();this.opts.delayLoadServiceUrl&&this.initHiLoadedNodes();this.updateChildNodes("");this.opts.expandLevels==0||this.getIsMobileView()||this.expandLevels(this.opts.expandLevels);this.isChangingView=!0;this.setFocusedNode(this.getFocusedNodeId());this.isChangingView=!1}};CHTree.prototype.getIsMobileView=function(){return this.isMobileView};CHTree.prototype.getChildrenPanel=function(n){return n===""?document.getElementById(this.containerId):this.childrenPanels?this.childrenPanels[n]:null};CHTree.prototype.removeChildrenPanel=function(n){var t=this.getChildrenPanel(n);t&&t.parentNode&&t.parentNode.removeChild(t);this.childrenPanels[n]=null};CHTree.prototype.getNodePanel=function(n){return this.nodePanels?this.nodePanels[n]:null};CHTree.prototype.getNodeContentPanel=function(n){var i=this.getNodePanel(n),t;if(i)for(t=0;t<i.children.length;t++)if(i.children[t].className.indexOf(this.opts.cssClasses.nodeContent)>-1)return i.children[t];return null};CHTree.prototype.getEffectiveEl=function(n){if(!n)return null;while(!n.getAttribute("data-node-id")&&n.parentNode&&n!=document.getElementById(this.containerId))n=n.parentNode;return n.getAttribute("data-node-id")?n:null};CHTree.prototype.getNodeId=function(n){var t=this.getEffectiveEl(n);return t?t.getAttribute("data-node-id"):null};CHTree.prototype.updateNode=function(n,t){function v(n){return res=document.createElement("a"),res.setAttribute("data-node-id",n.id),res.href=n.vals._url&&!n.d?n.vals._url:"javascript:void(0)",n.vals._target&&(res.target=n.vals._target),n.vals._toolTip&&(res.title=n.vals._toolTip),res.className=this.opts.cssClasses.node,res}function w(n){var t=[this.opts.cssClasses.node];return this.opts.isHighlightFocusedNode&&n.id==this.focusedNodeId&&t.push(this.opts.cssClasses.nodeFocused),n.vals._customCssClass&&t.push(n.vals._customCssClass),t.join(" ")}function b(n){return this.opts.cssClasses.nodeContent+(n.d==1?" "+this.opts.cssClasses.nodeContentDisabled:"")}function y(n){var t=document.createElement("div");return n.appendChild(t),t}function k(n){var t,i,r;return this.childrenPanels||(this.childrenPanels={}),t=document.createElement("div"),t.className=this.opts.cssClasses.nodeChildren+" "+(n.isExpanded?this.opts.cssClasses.nodeChildrenExpanded:this.opts.cssClasses.nodeChildrenCollapsed),this.getIsMobileView()&&(i=v.call(this,n),i.className+=" "+this.opts.cssClasses.nodeBack,r=y.call(this,i,n),r.className=this.opts.cssClasses.nodeContent,r.innerHTML=this.opts.templates.backArrow+"&nbsp;&nbsp;"+this.opts.text.back,t.appendChild(i)),this.childrenPanels[n.id]=t,t}function p(n,t){return t||(t=document.createElement("div"),n.appendChild(t)),t.className=d.opts.cssClasses.nodeBtn,t}var d=this,i=this.nodes[n],u,c,o,r,s,h,a;if(this.onNodeInit&&n&&n!=this.selAllId)this.onNodeInit(this,{node:i});u=this.getNodePanel(n);u||(u=v.call(this,i),this.nodePanels||(this.nodePanels={}),this.nodePanels[i.id]=res,this.getChildrenPanel(i.parentId).appendChild(u));t&&this.removeChildrenPanel(n);var l=this.getChildrenPanel(n),f=this.getNodeContentPanel(n),e=null;for(r=0;r<u.children.length;r++)if(u.children[r].className.indexOf(this.opts.cssClasses.nodeBtn)>-1){e=u.children[r];break}if(this.opts.nodeBtnPosition=="left"&&(e=p(u,e)),f){if(this.opts.multiSelectMode&&i.s>-1){for(o=null,r=0;r<u.children.length;r++)if(s=u.children[r],s.className&&s.className.indexOf(this.opts.cssClasses.nodeSelect)>-1){o=s;break}if(o)for(r=0;r<o.children.length;r++)if(s=o.children[r],s.tagName.toLowerCase()=="input"&&s.type.toLowerCase()=="checkbox"){s.checked=i.s==2;break}}}else this.opts.multiSelectMode&&i.s>-1&&(o=document.createElement("div"),o.className=this.opts.cssClasses.nodeSelect,u.appendChild(o),c=document.createElement("input"),c.type="checkbox",c.checked=i.s==2,c.disabled=i.d==1,o.appendChild(c)),f=y.call(this,u,i);this.opts.nodeBtnPosition=="right"&&(e=p(u,e));u.className=w.call(this,i);f.className=b.call(this,i);i.c&&i.c.length>0?(e&&(e.innerHTML=this.opts.templates.expandCollapseButton,i.isExpanded?(e.title="[-]",e.className+=" "+this.opts.cssClasses.btnCollapse):(e.title="[+]",e.className+=" "+this.opts.cssClasses.btnExpand)),i.isExpanded?i.imgs.Expanded?(f.style.backgroundImage="url('"+i.imgs.Expanded+"')",f.style.backgroundRepeat="no-repeat"):f.className+=" "+this.opts.cssClasses.nodeContentExpanded:i.imgs.Collapsed?(f.style.backgroundImage="url('"+i.imgs.Collapsed+"')",f.style.backgroundRepeat="no-repeat"):f.className+=" "+this.opts.cssClasses.nodeContentCollapsed):i.imgs.WithoutChildren?(f.style.backgroundImage="url('"+i.imgs.WithoutChildren+"')",f.style.backgroundRepeat="no-repeat"):f.className+=" "+this.opts.cssClasses.nodeContentWithoutChildren;h=this.opts.templates.nodeContent&&this.opts.templates.nodeContent!=""?this.opts.templates.nodeContent.replace(/{{T}}/g,this.opts.isEscapeNodeText?escapeMarkup(i.t):i.t):escapeMarkup(i.t);h=h.replace(/{{ID}}/g,escapeMarkup(i.id));for(a in i.vals)h=h.replace(new RegExp("{{"+a+"}}","g"),i.vals[a]);f.innerHTML=h;l||(l=k.call(this,i),this.getChildrenPanel(this.getIsMobileView()?"":i.parentId).appendChild(l))};CHTree.prototype.updateChildNodes=function(n){var i=this.nodes[n].c,t;if(i)for(t=0;t<i.length;t++)this.updateNode(i[t].id)};CHTree.prototype.switchNode=function(n,t,i){var r=this.nodes[n],u,f;i=typeof i!="undefined"?i:!r.isExpanded;u=r.isExpanded!=i;this.getIsMobileView()&&t&&u&&i&&r.c&&r.c.length>0&&(this.setFocusedNode(r.c[0].id),f=document.getElementById(this.containerId),f.style.overflow="hidden",f.scrollTop=0,r.parentId&&(this.getChildrenPanel(r.parentId).scrollTop=0));this.getChildrenPanel(n).className=this.opts.cssClasses.nodeChildren+" "+(i?this.opts.cssClasses.nodeChildrenExpanded:this.opts.cssClasses.nodeChildrenCollapsed);r.isExpanded=i;this.updateNode(n);u&&i&&this.updateChildNodes(n)};CHTree.prototype.runOnNodes=function(n,t,i,r){var u,f;if(r||(r=1),n)for(u=0;u<n.length;u++)f={level:r,isSkipChildren:!1},t.call(this,n[u],f),i&&!f.isSkipChildren&&n[u].c&&this.runOnNodes(n[u].c,t,i,r+1)};CHTree.prototype.initNode=function(n,t){var i,r,u;if(this.nodes[n.id]=n,t&&n.id!=this.selAllId&&n.s>-1&&n.s<2&&(t.isAllSelected=!1),(!n.c||n.c.length<1)&&n.vals&&n.vals._delayLoadType&&parseInt(n.vals._dlc)>0){if(!this.opts.delayLoadServiceUrl)throw new"The 'delayLoadServiceUrl' option is not initialized. It must be initialized for delayed loading to work.";i=null;r=null;switch(n.vals._delayLoadType){case"LoadOnClick":i=this.opts.cssClasses.nodeDelayLoadTrigger;r=this.opts.text.delayLoadTriggerNode.replace(/{{CHILD_COUNT}}/g,n.vals._dlc);break;case"LoadOnExpand":i=this.opts.cssClasses.nodeDelayLoadLoading;r=this.opts.text.delayLoadLoadingNode}n.c=[{id:n.id+"_dl",c:[],t:r,s:-1,d:0,vals:{_customCssClass:i},imgs:{}}]}if(n.c)for(u=0;u<n.c.length;u++)n.c[u].parentId=n.id};CHTree.prototype.getAllNodeIds=function(){var n=[],t;for(t in this.nodes)n.push(t);return n};CHTree.prototype.onNodeChildrenDelayLoaded=function(n,t){var u=JSON.parse(t),i=this.nodes[n],r;i.c=u;i.vals._delayLoadType=null;i.vals._dlc=null;r={isAllSelected:!0};this.runOnNodes([this.nodes[n]],function(n){this.initNode(n,r)},!0);this.selAllId&&!r.isAllSelected&&this.nodes[this.selAllId].s==2&&(this.nodes[this.selAllId].s=0);document.getElementById(this.hiSelectionId).value=this.getSelectedNodeIds().join("\t");document.getElementById(this.hiLoadedNodesId).value=this.getAllNodeIds().join("\t");this.updateNode(n,!0);this.updateChildNodes(n);this.selAllId&&this.updateNode(this.selAllId)};CHTree.prototype.onClick=function(n,t){function f(n,t){if(!n)return null;while(n.parentNode&&n!=document.getElementById(this.containerId)&&!n.getAttribute("data-node-id")){if(n.className.indexOf(t)>-1)return!0;n=n.parentNode}return!1}var i=n.srcElement||n.target,r,u;if(i){if(f(i,this.opts.cssClasses.btnExpand)||f(i,this.opts.cssClasses.btnCollapse)){if(r=this.getNodeId(i),r){if(this.onNodeExpanding)this.onNodeExpanding(this,{node:this.nodes[r]});this.switchNode(r,!0)}return stopBubbling(n)}if(i.type&&i.type.toLowerCase()=="checkbox"){this.opts.multiSelectMode&&(r=this.getNodeId(i),this.setNodeSelected(r,i.checked));return}if(f(i,this.opts.cssClasses.nodeContent)||f(i,this.opts.cssClasses.nodeBtn)){var r=this.getNodeId(i),e=this.getEffectiveEl(i).className.indexOf(this.opts.cssClasses.nodeBack)>-1,o=this.getEffectiveEl(i).className.indexOf(this.opts.cssClasses.nodeDelayLoadTrigger)>-1;if(o?(u=this.nodes[r],u.t=this.opts.text.delayLoadLoadingNode,u.vals._customCssClass=this.opts.cssClasses.nodeDelayLoadLoading,this.updateNode(r),sendRequest("GET",this.opts.delayLoadServiceUrl.replace(/{{PARENT_ID}}/g,encodeURIComponent(u.parentId)),null,!0,function(n){t.onNodeChildrenDelayLoaded(u.parentId,n.responseText)})):this.setFocusedNode(r,e),this.onNodeClick&&!e&&!o)this.onNodeClick(this,{node:t.nodes[r]})}}};CHTree.prototype.onDblClick=function(n,t){var i=n.srcElement||n.target,r;if(i&&i.className.indexOf(t.opts.cssClasses.nodeContent)>-1&&(r=t.getNodeId(i),t.onNodeDblClick))t.onNodeDblClick(t,{nodeId:r})};CHTree.prototype.setFocusedNode=function(n,t,i){var e,o,s,r,u,f,h;if(this.getNode(n)){if(e=this.focusedNodeId,!i&&this.onFocusedNodeChanging){o={isCancel:!1,oldId:e,newId:n};this.onFocusedNodeChanging(this,o);if(o.isCancel)return}if(n!=this.selAllId&&(this.focusedNodeId&&!this.isChangingView&&(this.focusedNodeId="",this.updateNode(e)),this.nodes[n])){if(this.focusedNodeId=n,this.getIsMobileView()){for(s in this.childrenPanels)s!=this.nodes[n].parentId&&this.collapseNode(s);this.nodes[n].parentId||(document.getElementById(this.containerId).style.overflow="")}for(r=this.nodes[n],u=[];r.parentId&&this.nodes[r.parentId];)u.push(r.parentId),r=this.nodes[r.parentId];for(f=u.length-1;f>=0;f--)this.expandNode(u[f]);this.updateNode(n);h=this.getNodeElement(n);t&&!getIsElementInViewport(h)&&h.scrollIntoView()}}};CHTree.prototype.setNodeSelected=function(n,t,i){var u,o,e,s,f,r,h;if(n&&(u=this.nodes[n],u&&!(u.s<0)&&u.d!=1)){if(this.onNodeSelecting){o={isCancel:!1,nodeId:n,isChecked:t};this.onNodeSelecting(this,o);if(o.isCancel)return}if(u.d!=1&&(u.s=t?2:0,this.opts.multiSelectMode=="recursive"&&!i&&(this.runOnNodes(u.c,function(n){this.setNodeSelected(n.id,t,!0)},!0),!t)))for(r=u;r.parentId;)this.setNodeSelected(r.parentId,!1,!0),r=this.nodes[r.parentId];if(e=null,u.id!=this.selAllId){if(e=this.getSelectedNodeIds(),this.selAllId)if(t){s=!0;for(f in this.nodes)if(f!=this.selAllId&&this.nodes[f].s>-1&&this.nodes[f].s<2){s=!1;break}this.nodes[this.selAllId].s=s?2:0;this.updateNode(this.selAllId)}else this.nodes[this.selAllId].s=0,this.updateNode(this.selAllId)}else{for(f in this.nodes)r=this.nodes[f],r.s>-1&&r.d!=1&&(r.s=t?2:0);e=this.getSelectedNodeIds();this.runOnNodes(this.nodes[""].c,function(n){this.updateNode(n.id)},!0)}if(this.updateNode(n),h=document.getElementById(this.hiSelectionId),h.value=e.join("\t"),this.onNodeSelected)this.onNodeSelected(this,{})}};CHTree.prototype.expandLevels=function(n){var t=this;this.runOnNodes(this.nodes[""].c,function(i,r){(n<0||n>=r.level)&&t.expandNode(i.id);n==r.level&&(r.isSkipChildren=!0)},!0)};CHTree.prototype.expandNode=function(n){this.switchNode(n,!1,!0)};CHTree.prototype.collapseNode=function(n){this.switchNode(n,!1,!1)};CHTree.prototype.getSelectedNodeIds=function(){var t=[],n;for(n in this.nodes)this.nodes[n].s==2&&n!=this.selAllId&&t.push(n);return t};CHTree.prototype.getFocusedNodeId=function(){return this.focusedNodeId};CHTree.prototype.getNode=function(n){return this.nodes[n]};CHTree.prototype.setNode=function(n){return this.nodes[n.id]=n};CHTree.prototype.getNodeElement=function(n){return this.getNodeContentPanel(n)};CHTree.prototype.getNodeByVal=function(n,t){var r,i;for(r in this.nodes)if(i=this.nodes[r],i.vals&&typeof i.vals[n]!="undefined"&&i.vals[n]==t)return i;return null};CHTree.prototype.setReadOnly=function(n){var t=document.getElementById(this.containerId);if(n&&!this.pnlDisabled){this.pnlDisabled=document.createElement("div");this.pnlDisabled.className=this.opts.cssClasses.treeDisabled;t.appendChild(this.pnlDisabled);return}if(!n&&this.pnlDisabled){t.removeChild(this.pnlDisabled);this.pnlDisabled=null;return}};PopupWindow.defaults={wnd:null,target:null,targetId:"",targetCoordinatesEvalType:"",btnClose:null,btnCloseId:"",dragTrigger:null,dragTriggerId:"",isAllowDragging:!1,position:"center",showAction:"init",hideAction:"none",width:200,height:200,relOffset:null,fixedPosition:null,isEffectExpand:!1,isEffectAppear:!1,effectsTimeout:300,isAddShadow:!0,isModal:!1,contentUrl:"",iframe:null,iframeId:"",iframeLoadingText:"Loading...",isDelayLoadIframeContent:!1,isMoveToBodyChildLevel:!1,isRenderBeak:!1,beakCssClass:"",beakSize:10,isEnableResponsiveResize:!1,responsiveResizeMaxWidth:200,responsiveResizeMaxHeight:200,responsiveResizedElId:"",responsiveResizedEl:null,responsiveResizedElHeight:0};PopupWindow.prototype.hidePnlLoading=function(){this.pnlLoading&&(this.pnlLoading.style.display="none",this.pnlLoading.parentNode&&this.pnlLoading.parentNode.removeChild(this.pnlLoading),this.pnlLoading=null)};PopupWindow.prototype.createModalPanel=function(){var n=document.createElement("div"),t;return n.style.backgroundColor="black",n.style.opacity="0.5",n.style.webkitTransition=n.style.transition="opacity "+this.effectsTimeout+"ms",n.style.position="fixed",n.style.top="0",n.style.bottom="0",n.style.left="0",n.style.right="0",n.style.overflow="hidden",n.style.zIndex=this.zIndex-1,document.getElementsByTagName("body")[0].appendChild(n),t=this,appendEventHandler(n,"click",function(){t.hide()}),n};PopupWindow.prototype.adjustPosition=function(){var u,p,l,a,w,b,s,h,c,k;if(this.position.toLowerCase()!="default"){var f=this.getWindowSize(),w=0,b=0;if(this.relOffset&&(f[0]+=this.relOffset.left?this.relOffset.left:0,f[1]+=this.relOffset.top?this.relOffset.top:0),this.target){var n=this.getTargetPos(this.target),r=this.getElementSize(this.target),v=this.getViewPos(),y=this.getViewSize(),o=this.getBeakSize(),i,t,e;switch(this.position.toLowerCase()){case"left":i=1;t=0;e=-1;break;case"right":i=1;t=0;e=1;break;case"top":i=0;t=1;e=-1;break;default:i=0;t=1;e=1}if(u=(r[t]+f[t])/2,p=[-v[i]+n[i]+f[i]>y[i]?-v[i]+n[i]+r[i]/2>y[i]/2&&n[i]+r[i]-f[i]>=0?n[i]+r[i]-f[i]:n[i]:n[i],-v[t]+n[t]+r[t]+f[t]-u+u*e>y[t]?-v[t]+n[t]+r[t]/2>y[t]/2&&n[t]+r[t]-u-u*e>=0?n[t]+r[t]-u-u*e:n[t]+r[t]-u+u*e:n[t]+r[t]-u+u*e>=0?n[t]+r[t]-u+u*e:n[t]+r[t]-u-u*e],l=p[i],a=p[t],this.wnd.style.position="absolute",this.wnd.style.clear="both",w=(l<n[0]?-1:1)*((this.getIsHorizontalAlign()?o[0]:0)+(this.relOffset&&this.relOffset.left?this.relOffset.left:0)),this.wnd.style.left=l+w+"px",b=(a<n[1]?-1:1)*((this.getIsHorizontalAlign()?0:o[1])+(this.relOffset&&this.relOffset.top?this.relOffset.top:0)),this.wnd.style.top=a+b+"px",this.beak){s=null;switch(this.position.toLowerCase()){case"left":s=l<n[0]?"left":"right";break;case"right":s=l>n[0]?"right":"left";break;case"top":s=a<n[1]?"top":"bottom";break;case"bottom":s=a>n[1]?"bottom":"top"}h=0;c=0;switch(s){case"left":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="0";h=n[0]-o[0];c=n[1]+Math.min(f[1]/2,r[1]/2)-o[1]/2;break;case"right":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(-45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="50%";h=n[0]+r[0];c=n[1]+Math.min(f[1]/2,r[1]/2)-o[1]/2;break;case"top":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(-45deg)";this.beak.children[0].style.left="0";this.beak.children[0].style.top="0";h=n[0]+Math.min(f[0]/2,r[0]/2)-o[0]/2;c=n[1]-o[1];break;case"bottom":this.beak.children[0].style.transform=this.beak.children[0].style.webkitTransform="rotate(45deg)";this.beak.children[0].style.left="50%";this.beak.children[0].style.top="0";h=n[0]+Math.min(f[0]/2,r[0]/2)-o[0]/2;c=n[1]+r[1]}this.beak.style.left=h+(this.relOffset&&this.relOffset.left?this.relOffset.left:0)+"px";this.beak.style.top=c+(this.relOffset&&this.relOffset.top?this.relOffset.top:0)+"px"}}else{this.wnd.style.position="fixed";switch(this.position.toLowerCase()){case"left":this.wnd.style.left="0";this.wnd.style.top="0";break;case"right":this.wnd.style.right="0";this.wnd.style.top="0";break;case"top":this.wnd.style.top="0";this.wnd.style.left="0";break;case"bottom":this.wnd.style.bottom="0";this.wnd.style.left="0";break;case"center":this.wnd.style.top=Math.max(0,document.documentElement.clientHeight/2-f[1]/2)+"px";this.wnd.style.left=Math.max(0,document.documentElement.clientWidth/2-f[0]/2)+"px";break;default:this.wnd.style.left="0";this.wnd.style.top="0"}}if(this.fixedPosition){this.wnd.style.position="fixed";this.wnd.style.left="";this.wnd.style.top="";this.wnd.style.right="";this.wnd.style.bottom="";for(k in this.fixedPosition)this.wnd.style[k]=this.fixedPosition[k]}}};PopupWindow.prototype.show=function(){var i,t,n;if(this.isShowing){this.adjustSize();this.adjustPosition();return}if(this.onShowing){i={isCancel:!1};this.onShowing(this,i);if(i.isCancel)return}this.adjustSize();this.adjustPosition();this.isModal&&(this.pnlModal=this.createModalPanel());this.contentUrl&&this.iframe&&this.isDelayLoadIframeContent&&(!this.iframe.src||isIgnoreCaseEqual(this.iframe.src,"about:blank"))&&(this.iframe.src=this.contentUrl);this.wnd.style.display="block";this.beak&&(this.beak.style.display=this.wnd.style.display);this.wnd.style.visibility="visible";t=[];this.isEffectExpand&&(t.push("transform "+this.effectsTimeout+"ms"),t.push("-webkit-transform "+this.effectsTimeout+"ms"));this.isEffectAppear&&t.push("opacity "+this.effectsTimeout+"ms");this.wnd.style.webkitTransition=this.wnd.style.transition=t.join(",");this.beak&&(this.beak.style.transition=this.beak.style.webkitTransition=this.wnd.style.transition);n=this;setTimeout(function(){n.isEffectExpand&&(n.wnd.style.transform=n.wnd.style.webkitTransform="",n.beak&&(n.beak.style.transform=n.beak.style.webkitTransform=n.wnd.style.transform));n.wnd.style.opacity="1";n.beak&&(n.beak.style.opacity=n.wnd.style.opacity)},50);switch(this.hideAction){case"click":this.isDontHidePopupOnBodyClick=!0;setTimeout(function(){n.isDontHidePopupOnBodyClick=!1},0)}this.isShowing=!0};PopupWindow.prototype.hide=function(){var t,n;if(this.isShowing){if(this.onHiding){t={cancel:!1};this.onHiding(this,t);if(t.cancel)return}this.pnlModal&&(n=this,this.pnlModal.style.opacity="0",setTimeout(function(){n.pnlModal&&(document.getElementsByTagName("body")[0].removeChild(n.pnlModal),n.pnlModal=null)},this.effectsTimeout));this.isEffectAppear||this.isEffectExpand?(this.isEffectExpand&&(this.wnd.style.transform=this.wnd.style.webkitTransform=this.getTranslateValue(),this.beak&&(this.beak.style.transform=this.beak.style.webkitTransform=this.wnd.style.transform)),this.isEffectAppear&&(this.wnd.style.opacity="0",this.beak&&(this.beak.style.opacity=this.wnd.style.opacity)),n=this,setTimeout(function(){n.wnd.style.display="none";n.beak&&(n.beak.style.display=n.wnd.style.display)},this.effectsTimeout)):(this.wnd.style.display="none",this.beak&&(this.beak.style.display=this.wnd.style.display));this.isShowing=!1}};PopupWindow.prototype.getWindowSize=function(){this.beginWindowMeasurement();var n=[this.wnd.offsetWidth>0?this.wnd.offsetWidth:this.width,this.wnd.offsetHeight>0?this.wnd.offsetHeight:this.height];return this.endWindowMeasurement(),n};PopupWindow.prototype.setWindowSize=function(n,t){var r=!1,i=this.target?getElementPos(this.target,!1):null,u,f;n&&(u=i?Math.max(document.documentElement.clientWidth-i[0]-this.target.offsetWidth,i[0]):document.documentElement.clientWidth,n=Math.min(n,u),this.width=n,this.wnd.style.width=n+"px",r=!0);t&&(f=i?Math.max(document.documentElement.clientHeight-i[1]-this.target.offsetHeight,i[1]):document.documentElement.clientHeight,t=Math.min(t,f),this.height=t,this.wnd.style.height=t+"px",r=!0);r&&this.adjustPosition()};PopupWindow.bind=function(){var u,o,f,i,s,n,h,e,r,c,t;for(PopupWindow.instances||(PopupWindow.instances=[]),u="data-chpw-",o=document.getElementsByTagName("*"),f=0;f<o.length;f++)if(i=o[f],s=i.getAttribute("class"),s&&s.toLowerCase().indexOf("chpopupwindow")>=0){for(n=null,h=i.getAttribute(u+"params"),h?(n=JSON.parse(h),n.wnd=i):n={wnd:i},e=0;e<i.attributes.length;e++)if(r=i.attributes[e],r.name.toLowerCase().indexOf(u)>=0){c=r.name.toLowerCase().replace(u,"");for(t in PopupWindow.defaults)if(isIgnoreCaseEqual(t,c))if(typeof PopupWindow.defaults[t]=="string"){n[t]=r.value;break}else if(typeof PopupWindow.defaults[t]=="boolean"){n[t]=r.value&&r.value.toLowerCase()=="true";break}else if(typeof PopupWindow.defaults[t]=="number"){n[t]=parseInt(r.value);break}}PopupWindow.instances["wnd"+PopupWindow.length]=new PopupWindow(n)}};PopupWindow.prototype.adjustSize=function(){var r,t,i,n;if(isIgnoreCaseEqual(getStyleValue(this.wnd,"position"),"absolute")||isIgnoreCaseEqual(getStyleValue(this.wnd,"position"),"fixed")){if(!this.isEnableResponsiveResize){this.isAutoAdjustHeightForIframe&&this.iframeContentHeight&&this.setWindowSize(null,this.iframeContentHeight);return}r=this.responsiveResizeMaxWidth/this.responsiveResizeMaxHeight;t=this.responsiveResizedElHeight>0?this.responsiveResizedElHeight:this.responsiveResizedEl?this.wnd.scrollHeight-this.responsiveResizedEl.offsetHeight:0;t<0&&(t=0);i=Math.min(document.documentElement.clientWidth,this.responsiveResizeMaxWidth);n=Math.min(document.documentElement.clientHeight-t,this.responsiveResizeMaxHeight);i=Math.min(i,n*r);n=Math.min(n,i/r);this.setWindowSize(i,n+t);this.responsiveResizedEl&&(this.responsiveResizedEl.style.height=n+"px")}};PopupWindow.prototype.beginWindowMeasurement=function(){this.wnd.offsetParent||(this.oldDisplay=this.wnd.style.display,this.oldVisibility=this.wnd.style.visibility,this.wnd.style.visibility="hidden",this.wnd.style.display="block")};PopupWindow.prototype.endWindowMeasurement=function(){this.oldDisplay&&(this.wnd.style.visibility=this.oldVisibility,this.wnd.style.display=this.oldDisplay,this.oldVisibility=null,this.oldDisplay=null)};PopupWindow.prototype.getTargetPos=function(n){if(this.targetCoordinatesEvalType)return getElementPos(n,this.targetCoordinatesEvalType=="body");this.beginWindowMeasurement();var t=getNearestAbsParent(this.wnd),i=getElementPos(n,!this.target,t);return this.endWindowMeasurement(),i};PopupWindow.prototype.getElementSize=function(n){return[n.offsetWidth,n.offsetHeight]};PopupWindow.prototype.getViewPos=function(){return typeof window.pageYOffset=="number"?[window.pageXOffset,window.pageYOffset]:document.body&&(document.body.scrollLeft||document.body.scrollTop)?[document.body.scrollLeft,document.body.scrollTop]:document.documentElement&&(document.documentElement.scrollLeft||document.documentElement.scrollTop)?[document.documentElement.scrollLeft,document.documentElement.scrollTop]:[0,0]};PopupWindow.prototype.getViewSize=function(){return typeof window.innerWidth=="number"?[window.innerWidth,window.innerHeight]:document.body&&(document.body.clientWidth||document.body.clientHeight)?[document.body.clientWidth,document.body.clientHeight]:document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?[document.documentElement.clientWidth,document.documentElement.clientHeight]:[0,0]};PopupWindow.prototype.setTarget=function(n){this.target=n};PopupWindow.prototype.getTarget=function(){return this.target};PopupWindow.prototype.getEffectsTimeout=function(){return this.effectsTimeout};PopupWindow.prototype.getIsShowing=function(){return this.isShowing};CHMenu.defaults={overflowingParentId:null,mobileViewMinWidthThreshold:979,isAllowItemSelection:!1,isUseFontAwesomeIcons:!1,selectedItemId:null,isMovePopupToBodyChildLevel:!0,isEscapeMenuItemText:!0,templates:{itemContent:"<a href='{{_url}}' target='{{_target}}' title='{{_toolTip}}'>{{T}}<\/a>",dropDownArrow:"<i class='fa fa-angle-down'><\/i>",treeItemContent:null},cssClasses:{menu:"CHMenu_menu",menuItemDesktopRootLevel:"CHMenu_menuItem",menuItemDesktopRootLevelWithImage:"CHMenu_menuItemWithImage",menuItemDesktopRootLevelSelected:"CHMenu_menuItemSelected",menuItemDesktopRootLevelDisabled:"CHMenu_menuItemDisabled",popup:"CHMenu_popup"}};CHMenu.prototype.initItems=function(n){for(var t,i=0;i<n.length;i++)t=n[i],this.items[t.id]=t,t.vals._url||(t.vals._url=this.noUrlAddress),t.vals._target||(t.vals._target=""),t.vals._toolTip||(t.vals._toolTip=""),t.c&&this.initItems.call(this,t.c)};CHMenu.prototype.setItems=function(n){this.items={};this.items[""]={id:"",c:n};this.initItems(n);this.popup&&this.popup.hide();this.createMenu()};CHMenu.prototype.onWindowResize=function(){if((this.mobileViewDynamicWidthThreshold||typeof this.opts.mobileViewMinWidthThreshold=="number")&&this.setIsMobileView(document.documentElement.offsetWidth<this.opts.mobileViewDynamicWidthThreshold||document.documentElement.offsetWidth<this.opts.mobileViewMinWidthThreshold||this.opts.mobileViewMinWidthThreshold==0),this.opts.overflowingParentId){typeof this.getIsMobileView()=="undefined"&&this.setIsMobileView(!1);var n=document.getElementById(this.opts.overflowingParentId);!this.getIsMobileView()&&(n.offsetWidth<n.scrollWidth||n.offsetHeight<n.scrollHeight)&&(this.mobileViewDynamicWidthThreshold=document.documentElement.offsetWidth+1,this.setIsMobileView(!0))}if(!this.getIsMobileView()&&!this.opts.overflowingParentId&&this.opts.mobileViewMinWidthThreshold<0&&this.setIsMobileView(!1),!this.isInitialized&&(this.isInitialized=!0,this.onInit))this.onInit(this,{})};CHMenu.prototype.getIsMobileView=function(){return this.isMobileView};CHMenu.prototype.setIsMobileView=function(n){var t=this.isMobileView!=n,i;if(this.isMobileView=n,t&&(i=document.getElementById(this.containerId),this.popup&&this.popup.hide(),this.createMenu(),this.onViewSwitched))this.onViewSwitched(this,{isMobileView:this.isMobileView})};CHMenu.prototype.getTree=function(){return this.curTree};CHMenu.prototype.createTree=function(n,t){var f={mobileViewMode:"always",expandLevels:0,isReadOnly:!1,isHighlightFocusedNode:this.opts.isAllowItemSelection,isUseFontAwesomeIcons:this.opts.isUseFontAwesomeIcons,isEscapeNodeText:this.opts.isEscapeMenuItemText,focusedNodeId:this.selectedItemId,multiSelectMode:"",cssClasses:{tree:this.opts.cssClasses.menu}},u,r,i;for(this.opts.templates.treeItemContent&&(f.templates={nodeContent:this.opts.templates.treeItemContent});n.firstChild;)n.removeChild(n.firstChild);return u=document.createElement("div"),u.id=this.containerId+"_pt",n.appendChild(u),r=new CHTree(u.id,f,t),i=this,r.onNodeClick=function(n,t){i.items[t.node.id].d||this.isReadOnly||i.triggerItemClick(i.items[t.node.id])&&(i.hidePopup(),i.setSelectedItem(null))},r.onNodeExpanding=function(n,t){i.triggerItemExpanding(t.node)},this.curTree=r,r};CHMenu.prototype.getMenuItemClass=function(n){var i=this.opts.isAllowItemSelection&&this.selectedItemId==n,t=this.getItem(n);return this.opts.cssClasses.menuItemDesktopRootLevel+(i?" "+this.opts.cssClasses.menuItemDesktopRootLevelSelected:"")+(t.d||this.isReadOnly?" "+this.opts.cssClasses.menuItemDesktopRootLevelDisabled:"")+(t.imgs.WithoutChildren?" "+this.opts.cssClasses.menuItemDesktopRootLevelWithImage:"")+(t.vals._customCssClass?" "+t.vals._customCssClass:"")};CHMenu.prototype.setSelectedItem=function(n){if(this.selectedItemId=n,this.getIsMobileView())this.curTree.setFocusedNode(n);else{for(var t in this.itemEls)this.itemEls[t].className=this.getMenuItemClass(t);this.curTree&&this.curTree.setFocusedNode(n,!1,!0)}};CHMenu.prototype.getItem=function(n){return this.items[n]};CHMenu.prototype.setItemEnabled=function(n,t){var i=this.items[n];i.d=t?0:1;this.setItem(i)};CHMenu.prototype.setItemUrl=function(n,t){var i=this.items[n];i.vals._url=t;this.setItem(i)};CHMenu.prototype.setItem=function(n){this.items[n.id]=n;this.curTree&&this.curTree.getNode(n.id)&&this.curTree.setNode(n)};CHMenu.prototype.reRender=function(){this.setItems(this.items[""].c)};CHMenu.prototype.setReadOnly=function(n){this.isReadOnly=n;this.reRender()};CHMenu.prototype.createMenu=function(){function f(n){var t=document.createElement("li"),u=this.opts.isEscapeMenuItemText?escapeMarkup(n.t):n.t,i,r;n.c&&n.c.length>0&&this.opts.templates.dropDownArrow&&(u+="&nbsp;&nbsp;"+this.opts.templates.dropDownArrow);i=this.opts.templates.itemContent&&this.opts.templates.itemContent!=""?this.opts.templates.itemContent.replace(/{{T}}/g,u):u;i=i.replace(/{{ID}}/g,escapeMarkup(n.id));for(r in n.vals)i=i.replace(new RegExp("{{"+r+"}}","g"),(n.d||this.isReadOnly)&&r=="_url"?"javascript:void(0)":n.vals[r]);return t.className=this.getMenuItemClass(n.id),this.itemEls||(this.itemEls={}),this.itemEls[n.id]=t,t.innerHTML=i,t.setAttribute("data-item-id",n.id),n.imgs.WithoutChildren&&(t.style.backgroundImage="url('"+n.imgs.WithoutChildren+"')",t.style.backgroundRepeat="no-repeat"),t}for(var n=document.getElementById(this.containerId),e,t,r,i,u;n.firstChild;)n.removeChild(n.firstChild);if(this.pnlPopup&&this.pnlPopup.parentNode&&this.pnlPopup.parentNode.removeChild(this.pnlPopup),this.itemEls=null,this.getIsMobileView())e=this.createTree(n,this.items[""].c);else{for(t=document.createElement("ul"),t.className=this.opts.cssClasses.menu,r=this,appendEventHandler(t,"click",function(n){return r.onClick.call(r,n)}),n.appendChild(t),i=0;i<this.items[""].c.length;i++)t.appendChild(f.call(this,this.items[""].c[i]));this.pnlPopup=document.createElement("div");this.pnlPopup.id=n.id+"_chmenu_popup";this.pnlPopup.className=this.opts.cssClasses.popup;this.pnlPopup.setAttribute("data-popup-for-chmenu",n.id);n.appendChild(this.pnlPopup);u={wnd:this.pnlPopup,target:null,position:"bottom",showAction:"none",hideAction:"none",isEffectAppear:!0,isEffectExpand:!0,isAddShadow:!1,isMoveToBodyChildLevel:this.opts.isMovePopupToBodyChildLevel};this.popup=new PopupWindow(u)}};CHMenu.prototype.getItemIdByEl=function(n){if(!n)return null;while(!n.getAttribute("data-item-id")&&n.parentNode&&n!=document.getElementById(this.containerId))n=n.parentNode;return n.getAttribute("data-item-id")?{id:n.getAttribute("data-item-id"),el:n}:null};CHMenu.prototype.showPopup=function(n){var t=this.items[n];this.createTree(this.pnlPopup,t.c);this.popup.setTarget(this.itemEls[n]);this.popup.getIsShowing()?this.popup.adjustPosition():this.popup.show();this.curPopupItemId=n};CHMenu.prototype.hidePopup=function(){this.popup&&this.popup.hide();this.curPopupItemId=null};CHMenu.prototype.triggerItemClick=function(n,t){if(this.onItemClick){var i={item:n,isCancel:!1,el:t};this.onItemClick(this,i);return!i.isCancel}return!0};CHMenu.prototype.triggerItemExpanding=function(n){if(this.onItemExpanding){var t={item:n};this.onItemExpanding(this,t)}};CHMenu.prototype.onClick=function(n){var r=n.srcElement||n.target,i,t,u;if(r&&(i=this.getItemIdByEl(r),i)){if(t=this.items[i.id],this.isReadOnly||t.d)return;if(t.c&&t.c.length>0)this.curPopupItemId!=i.id&&(this.triggerItemExpanding(t),this.showPopup(i.id),u=this,this.isDontHidePopupOnBodyClick=!0,setTimeout(function(){u.isDontHidePopupOnBodyClick=!1},0));else if(!this.triggerItemClick(t,i.el))return stopBubbling(n);this.opts.isAllowItemSelection&&this.setSelectedItem(t.id)}};HashHandler.prototype.stopListening=function(){clearInterval(this.timerId)};HashHandler.prototype.handleHash=function(){if(window.location.hash!=this.oldHash){var n={changedParts:[],handled:!0},i=this.strToObj(window.location.hash),t=this.strToObj(this.oldHash);switch(this.syntaxType){case"ArticleEditorPage":t==null?n.changedParts=["anchor","searchQuery","mainPart","externalId","isEditing","projectId"]:(i.externalId!=t.externalId&&n.changedParts.push("externalId"),i.isEditing!=t.isEditing&&n.changedParts.push("isEditing"),i.projectId!=t.projectId&&n.changedParts.push("projectId"),isIgnoreCaseEqual(t.anchor,i.anchor)||n.changedParts.push("anchor"),i.searchQuery!=t.searchQuery&&n.changedParts.push("searchQuery"),i.mainPart!=t.mainPart&&n.changedParts.push("mainPart"));break;case"WebHelpPage":t==null?n.changedParts=["anchor","externalId"]:(i.externalId!=t.externalId&&n.changedParts.push("externalId"),isIgnoreCaseEqual(t.anchor,i.anchor)||n.changedParts.push("anchor"));break;case"SearchPage":t==null?n.changedParts=["searchQuery","projectId"]:(i.searchQuery!=t.searchQuery&&n.changedParts.push("searchQuery"),i.projectId!=t.projectId&&n.changedParts.push("projectId"));break;case"VirtualFileEditorPage":t==null?n.changedParts=["fileName"]:isIgnoreCaseEqual(t.fileName,i.fileName)||n.changedParts.push("fileName");break;case"LogViewerPage":t==null?n.changedParts=["fileName"]:isIgnoreCaseEqual(t.fileName,i.fileName)||n.changedParts.push("fileName");break;case"VersionsViewerPage":t==null?n.changedParts=["entityId1Parts","entityId2Parts","versionId1","versionId2"]:(isIgnoreCaseEqual(t.entityId1,i.entityId1)||n.changedParts.push("entityId1Parts"),isIgnoreCaseEqual(t.entityId2,i.entityId2)||n.changedParts.push("entityId2Parts"),i.versionId1!=t.versionId1&&n.changedParts.push("versionId1"),i.versionId2!=t.versionId2&&n.changedParts.push("versionId2"));break;case"ProjectReportsPage":t==null?n.changedParts=["start","end","range"]:(t.start!=i.start&&n.changedParts.push("start"),t.end!=i.end&&n.changedParts.push("end"),t.range!=i.range&&n.changedParts.push("range"));break;default:throw"The hash syntax type is not supported!";}this.onHashChanged&&(n.oldObj=t,n.newObj=i,this.onHashChanged.call(this,this,n));n.handled&&(this.oldHash=window.location.hash)}};HashHandler.prototype.strToObj=function(n){var t={},h,c,s,o,l,u,e,f,i,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,r;if(!n||n==""||n=="#")return null;switch(this.syntaxType){case"ArticleEditorPage":if(h=this.syntaxInfo.isEditingMarker,t.isEditing=n.indexOf(h)>-1,n=n.replace(new RegExp("#!","g"),""),c=new RegExp("^[^/]+/[^/]+").exec(n),t.mainPart=c!=null?c[0]:null,t.mainPart)for(s=t.mainPart.split("/"),o=0;o<s.length;o++)t.projectId?t.externalId=s[o].replace(h,""):t.projectId=s[o];var u="/"+this.syntaxInfo.anchorMarker+"/",f="/"+this.syntaxInfo.searchQueryMarker+"/",e=new RegExp(u+"[^?/]+").exec(n);t.anchor=e!=null?e[0].replace(u,""):null;i=new RegExp(f+"[^?/]+").exec(n);t.searchQuery=i!=null?i[0].replace(f,""):null;break;case"WebHelpPage":n=n.replace(new RegExp("#","g"),"");l=new RegExp("^[^/]+").exec(n);t.externalId=l!=null?l[0]:null;u="/"+this.syntaxInfo.anchorMarker+"/";e=new RegExp(u+"[^?/]+").exec(n);t.anchor=e!=null?e[0].replace(u,""):null;break;case"SearchPage":f="#"+this.syntaxInfo.searchQueryMarker+"/";i=new RegExp(f+"[^?/]+").exec(n);t.searchQuery=i!=null?i[0].replace(f,""):null;a="/"+this.syntaxInfo.projectIdMarker+"/";v=new RegExp(a+"[^?/]+").exec(n);t.projectId=v!=null?v[0].replace(a,""):null;break;case"LogViewerPage":case"VirtualFileEditorPage":t.fileName=n.replace("#","");break;case"VersionsViewerPage":n=n.replace(new RegExp("#","g"),"");y=new RegExp("^[^/]+").exec(n);t.entityId1=y!=null?y[0]:null;t.entityId1Parts=t.entityId1?t.entityId1.split(this.syntaxInfo.idSeparator):[];p="/"+this.syntaxInfo.id2Marker+"/";w=new RegExp(p+"[^?/]+").exec(n);t.entityId2=w!=null?w[0].replace(p,""):null;t.entityId2Parts=t.entityId2?t.entityId2.split(this.syntaxInfo.idSeparator):[];b="/"+this.syntaxInfo.v1Marker+"/";k=new RegExp(b+"[^?/]+").exec(n);t.versionId1=k!=null?k[0].replace(b,""):null;d="/"+this.syntaxInfo.v2Marker+"/";g=new RegExp(d+"[^?/]+").exec(n);t.versionId2=g!=null?g[0].replace(d,""):null;break;case"ProjectReportsPage":n=n.replace(new RegExp("#","g"),"");nt="/"+this.syntaxInfo.startMarker+"/";tt=new RegExp(nt+"[^?/]+").exec(n);t.start=tt!=null?new Date(tt[0].replace(nt,"")):null;it="/"+this.syntaxInfo.endMarker+"/";r=new RegExp(it+"[^?/]+").exec(n);t.end=r!=null?new Date(r[0].replace(it,"")):null;rt="/"+this.syntaxInfo.rangeMarker+"/";r=new RegExp(rt+"[^?/]+").exec(n);t.range=r!=null?parseInt(r[0].replace(rt,"")):null;break;default:throw"The hash syntax type is not supported!";}return t};HashHandler.prototype.objToStr=function(n){var t="#";switch(this.syntaxType){case"ArticleEditorPage":t+="!";t+=n.projectId+"/";t+=n.isEditing?this.syntaxInfo.isEditingMarker:"";t+=n.externalId;t+=n.anchor?"/"+this.syntaxInfo.anchorMarker+"/"+n.anchor:"";t+=n.searchQuery?"/"+this.syntaxInfo.searchQueryMarker+"/"+n.searchQuery:"";break;case"WebHelpPage":t+=n.externalId;t+=n.anchor?"/"+this.syntaxInfo.anchorMarker+"/"+n.anchor:"";break;case"SearchPage":t+=this.syntaxInfo.searchQueryMarker+"/";t+=n.searchQuery;n.projectId&&(t+="/"+this.syntaxInfo.projectIdMarker+"/",t+=n.projectId);break;case"LogViewerPage":case"VirtualFileEditorPage":t+=n.fileName;break;case"VersionsViewerPage":t+=n.entityId1Parts.join(this.syntaxInfo.idSeparator);t+=n.versionId1?"/"+this.syntaxInfo.v1Marker+"/"+n.versionId1:"";t+=n.entityId2Parts&&n.entityId2Parts.length>0?"/"+this.syntaxInfo.id2Marker+"/"+n.entityId2Parts.join(this.syntaxInfo.idSeparator):"";t+=n.versionId2?"/"+this.syntaxInfo.v2Marker+"/"+n.versionId2:"";break;case"ProjectReportsPage":function i(n){return n.getFullYear()+"-"+("00"+(n.getMonth()+1)).substr(-2)+"-"+("00"+n.getDate()).substr(-2)}n.range?(t+="/"+this.syntaxInfo.rangeMarker+"/",t+=n.range):n.start&&n.end&&(t+="/"+this.syntaxInfo.startMarker+"/",t+=i(n.start),t+="/"+this.syntaxInfo.endMarker+"/",t+=i(n.end));break;default:throw"The hash syntax type is not supported!";}return t};HashHandler.prototype.getHashObj=function(){return this.strToObj(window.location.hash)};HashHandler.prototype.setHash=function(n){window.location.hash=n;this.handleHash()};HashHandler.prototype.setHashObj=function(n){window.location.hash=this.objToStr(n);this.handleHash()};CHOffCanvasPanel.prototype.open=function(){var t=document.getElementById(this.pnlContainerName),n;t.className.indexOf("CHOffCanvasPanel_openMenu")<0&&(t.className+=" CHOffCanvasPanel_openMenu");n=document.getElementById(this.btnMenuName);n&&n.className.indexOf("isActive")<0&&(n.className+=" isActive")};CHOffCanvasPanel.prototype.close=function(){var t=document.getElementById(this.pnlContainerName),n;t.className=t.className.replace(/ CHOffCanvasPanel_openMenu\b/g,"");n=document.getElementById(this.btnMenuName);n&&(n.className=n.className.replace(/ isActive\b/g,""))};appendEventHandler(window,"load",webHelpInit)